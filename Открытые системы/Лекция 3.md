## Порядок загрузки ОС

1. Выполнение программы BIOS/UEFI
	* Проверяются все базовые инструкции из них
	* Производится поиск загрузочного устройства
	* После этого начинается чтение MBR (для BIOS) или EFI-раздела (для UEFI) загрузочного устройства

2. Загрузка MBR/EFI
	* В MBR начинается просмотр первого сегмента. А в EFI читается EFI-загрузчик, который располагается в разделе ESP (EFI System Partition)
	* После этого просматривается или инициализатор системы, так сказать. Или инициализатор инициализатора ОС.

3. Загрузка GRUB (ныне используется GRUB 2)
	* GRand Uniform Bootloader - Менеджер загрузчиков ОС. Ставится вместе с линукс.
	* Если стоит тупо винда, то этот этап пропускается. Винда сразу запускает свое ядро.

4. Загрузка Kernel
	Собственно, загрузка ядра ОС

5. Init (инициализация локальной файловой системы)
	Загружает программы уровней выполнения (но о них речь будет позже). Ныне их нумеруют 0 до 10

6. Runlevel (SYSTEMD)
### Про реестры
Любая ось состоит из множества файлов/модулей.
Начальные значения для модулей записывались в .ini файлах. При необходимости они модифицировались.
Проблема .ini файлов - если несколько программ использовали .ini файлы с одним именем, то ПО могло сломаться и не работать.
Решение - создание БД, многоуровневой системы адресации.
Проблема - такая система со временем засоряется и портится.
В UNIX решили оставить .ini файлы, но они выносились в отдельный каталок, который уже делился на подкаталоги.

# История UNIX
* В 1962 году конгресс США разрешил продажу ПК для использования вне военных целях.
* ATT (в частности подразделение Bell Laboratories) решили попробовать сделать многопользовательскую систему. И назвали MULTICS (MULTiplexed Information and Computing Service). Потратили дохуя, но решили этот проект прервать.
* После этого небольшая группа (3 человека) из подразделения решили сделать первую игрушку на ассемблере с использованием макросов. Показали игрушку начлаьнику - ему понравилось, и он увидел в этом выгоду.
* Этот язык макросов они сначала назвали "A", вторая версия (более высокая надстройка) - "B", ну и третья версия - всем известный "C". 
* UNICS (Uniplexed Information and Computing System) - это то, во что все переросло. Но для красоты один из разработчиков предложил сократить название до UNIX, в которой были приняты следующие принципы:
	1. Все программы пишутся на одном макроязыке.
	2. Все программы будут использовать одни и те же программы для обращения
	3. Создать программу для написания программ, которая будет функционал новых программ перенаправлять на уже написанные. В итоге твоя мощность определялась знанием команд.
		Иди читай [[MortyD14/Операционные системы/Лекция 2|лекцию 2 из операционных систем]]. По сути, тут придумали API и процедуру прерывания.
		Короче, тут вся система сводится к понятию файлов.
		По итогу все спрогресстровало до создания многопользовательской ОС (они сделали то, что не смогли сделать при создании MULTICS)
* И UNIX стали ебануто плодиться, прогрессировать и отличаться друг от друга. Поэтому начали вводить стандарты (POSIX), чтоб все у всех одинаково работало, и все были в плюсе.
	Забавно, что в POSIX так же стандартизировали C. Тогда все разработанные программы могли работать на любой системе, но при наличии компилятора.

### Про ядро
[[MortyD14/Операционные системы/Лекция 2|Опять иди читать сюда]]

Одной из основных задач для ядра является распределения ресурсов [[MortyD14/Операционные системы/Лекция 1#Понятия процесса в вычислительной системы и граф состояния|для процессов]].
Все прерывания обрабатываются ядром.
Ядро управляет процессами (в частности, модули диспетчеризации и менеджера прерываний).


 
